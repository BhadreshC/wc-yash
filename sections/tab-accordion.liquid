<div class="tabs">
  <ul id="tabs-nav" class="tabs-nav">
    <li><a href="#tab1">Payments</a></li>
    <li><a href="#tab2">Shipping</a></li>
    <li><a href="#tab3">Order</a></li>
  </ul>
  <div id="tabs-content">
    <div id="tab1" class="tab-content">
      {% for block in section.blocks %}
        {% if block.type == 'payments' %}
          <div class="accordion">
            {% if forloop.first == true %}
              <div class="accordion-head active">
                <p>{{ block.settings['accordion-title'] }}</p>
              </div>
              <div class="accordion-content">
                {{ block.settings.description }}
              </div>
            {% else %}
              <div class="accordion-head">
                <p>{{ block.settings['accordion-title'] }}</p>
              </div>
              <div class="accordion-content">
                {{ block.settings.description }}
              </div>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>
    <div id="tab2" class="tab-content">
      {% for block in section.blocks %}
        {% if block.type == 'shipping' %}
          <div class="accordion">
            {% if forloop.first == true %}
              <div class="accordion-head active">
                <p>{{ block.settings['accordion-title'] }}</p>
              </div>
              <div class="accordion-content">
                {{ block.settings.description }}
              </div>
            {% else %}
              <div class="accordion-head">
                <p>{{ block.settings['accordion-title'] }}</p>
              </div>
              <div class="accordion-content">
                {{ block.settings.description }}
              </div>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>
    <div id="tab3" class="tab-content">
      {% for block in section.blocks %}
        {% if block.type == 'order' %}
          <div class="accordion">
            {% if forloop.first == true %}
              <div class="accordion-head active">
                <p>{{ block.settings['accordion-title'] }}</p>
              </div>
              <div class="accordion-content">
                {{ block.settings.description }}
              </div>
            {% else %}
              <div class="accordion-head">
                <p>{{ block.settings['accordion-title'] }}</p>
              </div>
              <div class="accordion-content">
                {{ block.settings.description }}
              </div>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
<script>
   $(document).ready(function(){
    $('#tabs-nav li:first-child').addClass('active');
    $('.tab-content').hide();
    $('.tab-content:first').show();

    $('#tabs-nav li').click(function(){
      $('#tabs-nav li').removeClass('active');
      $(this).addClass('active');
      $('.tab-content').hide();

      var activeTab = $(this).find('a').attr('href');
      $(activeTab).fadeIn();
      return false;
    });

     $('.accordion-container .accordion:nth-child(1) .accordion-head').addClass('active');
          $('.accordion-container .accordion:nth-child(1) .accordion-content').slideDown();
          $('.accordion-head').on('click', function() {
             if($(this).hasClass('active')) {
             $(this).siblings('.accordion-content').slideUp();
             $(this).removeClass('active');
          }
           else {
             $('.accordion-content').slideUp();
             $('.accordion-head').removeClass('active');
             $(this).siblings('.accordion-content').slideToggle();
             $(this).toggleClass('active');
          }
    });
  })
</script>

<style>
  .tabs {
    max-width: 1300px;
    margin: 0 auto;
    padding-left: 15px;
    padding-right: 15px;
   padding-top: {{ section.settings.padding_top}}px;
    padding-bottom: {{ section.settings.padding_bottom}}px;
  }
  .faq-accordion {
    background: #f9f9f9;
  }
    .faq-title {
      text-align: center;
      margin-bottom: 30px;
      font-weight: 500;
      font-size: 40px;
      line-height: 160%;
      letter-spacing: 0.02em;
      text-transform: uppercase;
      color: #161616;
  }
   .accordion {
      margin-bottom: 10px;
  }
   .tabs .accordion-head {
    padding: 22px 0;
    position: relative;
    cursor: pointer;
    font-weight: 400;
    font-size: 24px;
    line-height: 135.7%;
    letter-spacing: 0.04em;
    border-bottom: 1px solid #C7C7C7;
  }
  .tabs .accordion-content p {
    margin: 22px 25px 0;
  }
  .tabs-nav {
    display: flex;
    align-items: center;
    padding: 0 0 22px 0;
    border-bottom: 1px solid #E0E0E0;
    margin: 0 0 82px 0;
  }
  .tabs-nav li {
    list-style: none;
    margin-right: 100px;
  }
  .tabs-nav li a {
    font-weight: 600;
    font-size: 25px;
    line-height: 135.7%;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    text-decoration: none;
    color: #CBCBCB;
  }
  .tabs-nav .active a {
    color: #000000;
    border-bottom: 2px solid;
    padding: 0 0 25px 0;
  }
    .accordion-head::before, .accordion-head::after {
      content: '';
      position: absolute;
      top: 50%;
      background-color: #000;
      transition: all .3s;
  }
  .accordion-head::before {
      right: 35px;
      width: 2px;
      height: 22px;
      margin-top: -10px;
  }
    .accordion-head.active::before {
      transform: rotate(90deg);
  }
   .accordion-head::after {
      right: 25px;
      width: 22px;
      height: 1px;
      margin-top: 0;
  }
    .accordion-content {
      padding: 0 0 30px 0;
      display: none;
  }
    .accordion-head p {
    margin: 0;
    padding: 0 25px;
  }
  @media screen and (max-width: 749px){
    .tabs .accordion-head {
      font-size: 18px;
      line-height: 110.7%;
  }
    .tabs-nav {
      margin: 0 0 50px 0;
  }
    .tabs-nav li a {
      font-size: 18px;
  }
    .tabs-nav {
      padding: 0 0 15px 0;
  }

    .tabs-nav .active a {
      padding: 0 0 18px 0;
  }
    .tabs {
     padding-top: {{ section.settings.padding_top | divided_by: 2}}px;
     padding-bottom: {{ section.settings.padding_bottom | divided_by: 2 }}px;
    }
    .accordion-head::before {
      height: 18px;
      margin-top: -8px;
    }
    .accordion-head::after {
      width: 18px;
      right: 27px;
    }
}
  @media screen and (max-width: 549px){
    .tabs .accordion-head {
      font-size: 14px;
    }
    .tabs-nav li {
      margin-right: 42px;
    }
  }
</style>

{% schema %}
{
  "name": "Tab accordion",
  "settings": [
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "blocks": [
   {
     "type": "payments",
     "name": "payments",
     "settings": [
       {
         "type": "text",
         "id": "accordion-title",
         "label": "Accordion Title"
       },
       {
         "type": "richtext",
         "id": "description",
         "label": "Description"
       }
     ]
   },
    {
     "type": "shipping",
     "name": "shipping",
     "settings": [
       {
         "type": "text",
         "id": "accordion-title_2",
         "label": "Accordion Title"
       },
       {
         "type": "richtext",
         "id": "description_2",
         "label": "Description"
       }
     ]
   },
    {
     "type": "order",
     "name": "order",
     "settings": [
       {
         "type": "text",
         "id": "accordion-title_3",
         "label": "Accordion Title"
       },
       {
         "type": "richtext",
         "id": "description_3",
         "label": "Description"
       }
     ]
   }
  ],
  "presets": [
    {
      "name": "Tab accordion"
    }
  ]
}
{% endschema %}
